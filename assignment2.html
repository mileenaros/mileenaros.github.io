<!DOCTYPE html> 
<html> 
    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

        <title>Mileena's HCDE 439 Physical Computing Page</title> 

        <link href="style.css" media="screen" rel="stylesheet" type="text/css" />

    </head> 
    <body> 

        <div class="header">
            <h1>Mileena's Assignment 2</h1>
        </div>
        <div class="image circuit2"></div>
        <div class="image schematic2"></div>
        <div class="image calculations2"></div>
        <span class="code">

            // Mileena Ros
            // HCDE 439 Winter 2022
            // References: Button example sketch from Arduino
            
            // set pin values based on circuit
            const int R = 3;
            const int G = 5;
            const int B = 6;
            const int sun = 10;
            const int rain = 11;
            const int buttonPin = 13;
            
            // variable for reading the pushbutton status
            int buttonState = 0;
            
            void setup() {
              pinMode(R, OUTPUT);
              pinMode(G, OUTPUT);
              pinMode(B, OUTPUT);
              pinMode(sun, OUTPUT);
              pinMode(rain, OUTPUT);
              pinMode(buttonPin, INPUT);
            }
            
            void loop() {
              // read the state of pushbutton value:
              buttonState = digitalRead(buttonPin);
            
              // pressing the button induces a state of sunshine
              // check if buttonState is HIGH to see if pushbutton is pressed
              if (buttonState == HIGH) {
                  // no more rain: fades the blue LED from brightest to lowest value, then sets
                  // to LOW to completely turn off
                  for (int i = 255; i > 0; i--) {
                    analogWrite(rain, i);
                    delay(10);
                  }
                  digitalWrite(rain, LOW);
            
                  // sunshine: fades the yellow LED from lowest value to brightest value, then sets
                  // to HIGH to keep on
                  for (int i = 0; i < 255; i++) {
                    analogWrite(sun, i);
                    delay(10);
                  }
                  digitalWrite(sun, HIGH);
            
                  // rain + sunshine = rainbow! using the RGB LED, flash between the colors of the rainbow
                  // flash bright red
                  displayRGB(255, 0, 0);        // see displayRGB() function below
            
                  // flash orange
                  displayRGB(255, 111, 0);
            
                  // flash yellow
                  displayRGB(255, 251, 0);
            
                  // flash green
                  displayRGB(29, 181, 77);
            
                  // flashes blue
                  displayRGB(0, 123, 255);
            
                  // flashes purple
                  displayRGB(144, 0, 255);
            
                  // transitioning back to rainy weather
                  // turns red, green, and blue LEDs in RGB LED off
                  digitalWrite(R, 0);
                  digitalWrite(G, 0);
                  digitalWrite(B, 0);
            
                  // fades the yellow LED from brightest value to lowest value, then sets to
                  // LOW to turn off
                  for (int i = 255; i > 0; i--) {
                    analogWrite(sun, i);
                    delay(10);
                  }
                  digitalWrite(rain, LOW);
            
                  // fades the blue LED from lowest value to brightest value, then sets
                  // to HIGH to keep on
                  for (int i = 0; i < 255; i++) {
                    analogWrite(rain, i);
                    delay(10);
                  }
                  digitalWrite(sun, HIGH);
            
              } else {
                // default "weather" is rainy, represented by flashing blue LED "raindrops"
                // turns yellow LED off
                digitalWrite(sun, LOW);
                
                // turns red, green, and blue LEDs in RGB LED off
                digitalWrite(R, LOW);
                digitalWrite(G, LOW);
                digitalWrite(B, LOW);
                
                // turns blue LED on, delays for 1/2s
                digitalWrite(rain, HIGH);
                delay(500);
                
                // turns blue LED off, delays for 1/2s
                digitalWrite(rain, LOW);
                delay(500);
              }
            }
            
            // takes red, green, and blue values as parameters
            // sets the R pin to red value
            // sets the G pin to green value
            // sets the B pin to blue value
            // delays for 2s
            void displayRGB(int rVal, int gVal, int bVal) {
              analogWrite(R, rVal);
              analogWrite(G, gVal);
              analogWrite(B, bVal);
              delay(2000);
            }

        </span>
    </body>
</html>
